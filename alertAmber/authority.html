<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Autoridad - Emitir Alerta Amber</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  label, input, button { display: block; margin: 10px 0; }
  #beaconId { font-weight: bold; color: red; font-size: 1.2em; }
</style>
</head>
<body>
  <h1>Emitir Alerta Amber</h1>
  <form id="alertForm">
    <label for="caseId">ID del Caso (ej: ALERTA-AMBER-001):</label>
    <input type="text" id="caseId" name="caseId" placeholder="ALERTA-AMBER-001" required />
    
    <label for="childName">Nombre del Desaparecido:</label>
    <input type="text" id="childName" name="childName" placeholder="Juan Pérez" required />
    
    <button type="submit">Emitir Alerta</button>
  </form>
  
  <div id="instructions" style="margin-top:20px; display:none;">
    <h2>Instrucciones para simular el Beacon</h2>
    <p>Usa esta etiqueta para el Beacon Simulator (u otro dispositivo BLE):</p>
    <div id="beaconId"></div>
    <p>
      Configura la app de Beacon Simulator para emitir un beacon con esta etiqueta.
      Los usuarios con la página abierta detectarán esta alerta automáticamente.
    </p>
  </div>

  <script>
    const form = document.getElementById('alertForm');
    const instructions = document.getElementById('instructions');
    const beaconIdDiv = document.getElementById('beaconId');

    form.addEventListener('submit', e => {
      e.preventDefault();
      const caseId = document.getElementById('caseId').value.trim();
      if (!caseId) return alert('Debes ingresar el ID del caso');

      beaconIdDiv.textContent = caseId;
      instructions.style.display = 'block';
    });
  </script>
</body>
</html>
